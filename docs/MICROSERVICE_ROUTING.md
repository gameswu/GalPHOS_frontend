# GalPHOS å¾®æœåŠ¡è·¯ç”±æ¶æ„ä¸APIè¦†ç›–æ–‡æ¡£

## æ¦‚è¿°

åŸºäº GalPHOS v1.2.0 å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œå‰ç«¯å®ç°äº†æ™ºèƒ½çš„ API è·¯ç”±åˆ†å‘ç³»ç»Ÿï¼Œå°†è¯·æ±‚è‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”çš„å¾®æœåŠ¡å®ä¾‹ã€‚æœ¬æ–‡æ¡£è¯¦ç»†åˆ—å‡ºäº†æ¯ä¸ªå¾®æœåŠ¡è¦†ç›–çš„æ‰€æœ‰APIæ¥å£ã€‚

## å¾®æœåŠ¡æ¶æ„æ˜ å°„

### ç«¯å£åˆ†é…

| ç«¯å£ | æœåŠ¡åç§° | æœåŠ¡æ ‡è¯† | èŒè´£æè¿° | APIæ•°é‡ |
|------|----------|----------|----------|---------|
| 3001 | User Authentication Service | `auth` | ç”¨æˆ·è®¤è¯ä¸æˆæƒæœåŠ¡ | 5ä¸ª |
| 3002 | User Management Service | `userManagement` | ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†æœåŠ¡ | 22ä¸ª |
| 3003 | Exam Management Service | `examManagement` | è€ƒè¯•å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†æœåŠ¡ | 8ä¸ª |
| 3004 | Submission Service | `submission` | ç­”é¢˜å¡æäº¤å’Œç®¡ç†æœåŠ¡ | 6ä¸ª |
| 3005 | Grading Service | `grading` | é˜…å·ä»»åŠ¡åˆ†é…å’Œè¿‡ç¨‹ç®¡ç†æœåŠ¡ | 18ä¸ª |
| 3006 | Score Statistics Service | `scoreStatistics` | æˆç»©æ•°æ®åˆ†æå’Œæ’åè®¡ç®—æœåŠ¡ | 12ä¸ª |
| 3007 | Region Management Service | `regionManagement` | çœä»½å­¦æ ¡ç­‰åœ°ç†ä¿¡æ¯ç®¡ç†æœåŠ¡ | 17ä¸ª |
| 3008 | File Storage Service | `fileStorage` | æ–‡ä»¶ä¸Šä¼ å­˜å‚¨å’Œè®¿é—®ç®¡ç†æœåŠ¡ | 8ä¸ª |
| 3009 | System Configuration Service | `systemConfig` | ç³»ç»Ÿå…¨å±€é…ç½®ç®¡ç†æœåŠ¡ | 4ä¸ª |

**æ€»è®¡**: 100ä¸ªAPIæ¥å£

## API è·¯å¾„åˆ†é…ç­–ç•¥

### ğŸ” å­¦ç”Ÿè´¦å·ç±»å‹è¯´æ˜

**é‡è¦**ï¼šç³»ç»Ÿä¸­å­˜åœ¨ä¸¤ç§ä¸åŒç±»å‹çš„å­¦ç”Ÿè´¦å·ï¼Œå…·æœ‰ä¸åŒçš„æƒé™å’Œæ“ä½œæ–¹å¼ï¼š

#### 1. ç‹¬ç«‹å­¦ç”Ÿè´¦å· (Independent Student Account)
- **ç‰¹å¾**ï¼šå­¦ç”Ÿè‡ªä¸»æ³¨å†Œçš„è´¦å·
- **æƒé™**ï¼šå®Œå…¨è‡ªä¸»æ“ä½œæƒé™
- **æ“ä½œèŒƒå›´**ï¼š
  - è‡ªä¸»æŸ¥çœ‹è€ƒè¯•ä¿¡æ¯
  - è‡ªä¸»æäº¤ç­”å·
  - æŸ¥çœ‹ä¸ªäººæˆç»©å’Œæ’å
  - ç®¡ç†ä¸ªäººèµ„æ–™
  - ç”³è¯·åŒºåŸŸå˜æ›´

#### 2. éç‹¬ç«‹å­¦ç”Ÿè´¦å· (Non-Independent Student Account)  
- **ç‰¹å¾**ï¼šæ•™ç»ƒæ·»åŠ çš„å­¦ç”Ÿè´¦å·
- **æƒé™**ï¼šä»…é™æ•™ç»ƒä»£ç†æ“ä½œ
- **æ“ä½œé™åˆ¶**ï¼š
  - å­¦ç”Ÿä¸èƒ½ç›´æ¥ç™»å½•ç³»ç»Ÿ
  - æ‰€æœ‰è€ƒè¯•æ“ä½œç”±æ•™ç»ƒä»£ç†
  - æ•™ç»ƒä»£ä¸ºæäº¤ç­”å·
  - æ•™ç»ƒæŸ¥çœ‹å…¶æˆç»©ä¿¡æ¯
  - ä¸èƒ½è‡ªä¸»ä¿®æ”¹ä¸ªäººä¿¡æ¯

#### 3. APIæƒé™æ˜ å°„
- `/api/student/*` â†’ ä»…é€‚ç”¨äº**ç‹¬ç«‹å­¦ç”Ÿè´¦å·**
- `/api/coach/students/*` â†’ æ•™ç»ƒç®¡ç†**éç‹¬ç«‹å­¦ç”Ÿè´¦å·** 
- `/api/coach/exams/*/submissions` â†’ æ•™ç»ƒä»£ç†**éç‹¬ç«‹å­¦ç”Ÿ**æäº¤

### ğŸš€ å¾®æœåŠ¡è·¯å¾„åˆ†é…

### 1. ç”¨æˆ·è®¤è¯æœåŠ¡ (localhost:3001)

**è´Ÿè´£ç”¨æˆ·è®¤è¯ä¸æˆæƒç›¸å…³åŠŸèƒ½ï¼Œå…±5ä¸ªAPIç«¯ç‚¹**

```
/api/auth/admin-login      # ç®¡ç†å‘˜ç™»å½•
/api/auth/login           # ç”¨æˆ·ç™»å½•
/api/auth/logout          # ç”¨æˆ·ç™»å‡º
/api/auth/register        # ç”¨æˆ·æ³¨å†Œ
/api/auth/validate        # TokenéªŒè¯
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- ç”¨æˆ·ç™»å½•æ³¨å†Œè®¤è¯
- ç®¡ç†å‘˜èº«ä»½éªŒè¯
- Tokenç”Ÿæˆä¸éªŒè¯
- ä¼šè¯çŠ¶æ€ç®¡ç†

### 2. ç”¨æˆ·ç®¡ç†æœåŠ¡ (localhost:3002)

**è´Ÿè´£ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå…±20ä¸ªAPIç«¯ç‚¹**

```
# ç®¡ç†å‘˜ç”¨æˆ·ç®¡ç†
/api/admin/users/{userId}           # ç”¨æˆ·ä¿¡æ¯æ“ä½œ
/api/admin/users/approve            # ç”¨æˆ·å®¡æ‰¹
/api/admin/users/approved          # å·²å®¡æ‰¹ç”¨æˆ·åˆ—è¡¨
/api/admin/users/pending           # å¾…å®¡æ‰¹ç”¨æˆ·åˆ—è¡¨
/api/admin/users/status            # ç”¨æˆ·çŠ¶æ€ç®¡ç†

# å­¦ç”Ÿæ³¨å†Œç®¡ç†
/api/admin/student-registrations              # æ³¨å†Œç”³è¯·ç®¡ç†
/api/admin/student-registrations/{requestId}/review  # æ³¨å†Œç”³è¯·å®¡æ ¸

# æ•™ç»ƒå­¦ç”Ÿå…³ç³»ç®¡ç†
/api/admin/coach-students           # æ•™ç»ƒå­¦ç”Ÿå…³ç³»æŸ¥çœ‹
/api/admin/coach-students/{relationId}  # æ•™ç»ƒå­¦ç”Ÿå…³ç³»æ“ä½œ
/api/admin/coach-students/stats     # æ•™ç»ƒå­¦ç”Ÿç»Ÿè®¡

# æ‰€æœ‰è§’è‰²ä¸ªäººèµ„æ–™ç®¡ç†
/api/admin/profile                  # ç®¡ç†å‘˜ä¸ªäººèµ„æ–™
/api/student/profile               # å­¦ç”Ÿä¸ªäººèµ„æ–™
/api/student/password              # å­¦ç”Ÿå¯†ç ä¿®æ”¹ (PUT)
/api/coach/profile                 # æ•™ç»ƒä¸ªäººä¿¡æ¯ (GET, PUT)
/api/coach/password                # æ•™ç»ƒå¯†ç ä¿®æ”¹ (PUT) 
/api/grader/profile                # é˜…å·å‘˜ä¸ªäººä¿¡æ¯ (GET, PUT)
/api/grader/password               # é˜…å·å‘˜å¯†ç ä¿®æ”¹ (PUT)
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- ç”¨æˆ·CRUDæ“ä½œ
- **ç»Ÿä¸€çš„ä¸ªäººèµ„æ–™ç®¡ç†**ï¼ˆæ‰€æœ‰è§’è‰²ï¼ŒGET/PUTï¼‰
- **ç»Ÿä¸€çš„å¯†ç ä¿®æ”¹åŠŸèƒ½**ï¼ˆæ‰€æœ‰è§’è‰²ï¼ŒPUTæ–¹æ³•ï¼‰
- æ•™ç»ƒå­¦ç”Ÿå…³ç³»ç®¡ç†
- å­¦ç”Ÿæ³¨å†Œç”³è¯·å®¡æ ¸
- ç”¨æˆ·çŠ¶æ€ç”Ÿå‘½å‘¨æœŸç®¡ç†

### 3. è€ƒè¯•ç®¡ç†æœåŠ¡ (localhost:3003)

**è´Ÿè´£è€ƒè¯•å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå…±8ä¸ªAPIç«¯ç‚¹**

```
# ç®¡ç†å‘˜è€ƒè¯•ç®¡ç†
/api/admin/exams                   # è€ƒè¯•CRUDæ“ä½œ
/api/admin/exams/{examId}          # è€ƒè¯•è¯¦æƒ…æ“ä½œ
/api/admin/exams/{examId}/publish  # è€ƒè¯•å‘å¸ƒ
/api/admin/exams/{examId}/unpublish # è€ƒè¯•å–æ¶ˆå‘å¸ƒ

# å­¦ç”Ÿè€ƒè¯•æŸ¥çœ‹
/api/student/exams                 # å­¦ç”Ÿå¯å‚åŠ è€ƒè¯•åˆ—è¡¨
/api/student/exams/{examId}        # å­¦ç”ŸæŸ¥çœ‹è€ƒè¯•è¯¦æƒ…

# æ•™ç»ƒè€ƒè¯•ç®¡ç†
/api/coach/exams                   # æ•™ç»ƒè€ƒè¯•åˆ—è¡¨
/api/grader/exams                  # é˜…å·å‘˜è€ƒè¯•åˆ—è¡¨
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- è€ƒè¯•åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤
- è€ƒè¯•å‘å¸ƒä¸å–æ¶ˆå‘å¸ƒ
- è€ƒè¯•çŠ¶æ€æ§åˆ¶
- è€ƒè¯•ä¿¡æ¯æŸ¥çœ‹ï¼ˆå„è§’è‰²ï¼‰

### 4. ç­”é¢˜æäº¤æœåŠ¡ (localhost:3004)

**è´Ÿè´£ç­”é¢˜å¡æäº¤å’Œç®¡ç†ï¼Œå…±6ä¸ªAPIç«¯ç‚¹**

```
# ç‹¬ç«‹å­¦ç”Ÿè´¦å·çš„è‡ªä¸»æäº¤
/api/student/exams/{examId}/submit      # ç‹¬ç«‹å­¦ç”Ÿè‡ªä¸»ç­”é¢˜æäº¤
/api/student/exams/{examId}/submission  # ç‹¬ç«‹å­¦ç”Ÿæäº¤çŠ¶æ€æŸ¥çœ‹

# æ•™ç»ƒä»£ç†éç‹¬ç«‹å­¦ç”Ÿæäº¤ï¼ˆæƒé™æ§åˆ¶ï¼‰
/api/coach/exams/{examId}/submissions   # æ•™ç»ƒæŸ¥çœ‹ä»£ç®¡å­¦ç”Ÿæäº¤
/api/coach/exams/{examId}/upload-answer # æ•™ç»ƒä»£ç†éç‹¬ç«‹å­¦ç”Ÿæäº¤ç­”å·

# é˜…å·å‘˜æäº¤æŸ¥çœ‹
/api/grader/submissions/{submissionId}  # é˜…å·å‘˜æŸ¥çœ‹å…·ä½“æäº¤
/api/grader/exams/{examId}/progress    # é˜…å·è¿›åº¦æŸ¥çœ‹
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- **ç‹¬ç«‹å­¦ç”Ÿè´¦å·**ï¼šè‡ªä¸»æäº¤ç­”å·ï¼Œç®¡ç†æäº¤çŠ¶æ€
- **éç‹¬ç«‹å­¦ç”Ÿè´¦å·**ï¼šä»…æ•™ç»ƒå¯ä»£ç†æäº¤ï¼Œå­¦ç”Ÿæ— ç›´æ¥æ“ä½œæƒé™
- **æƒé™åŒºåˆ†**ï¼šä¸¥æ ¼åŒºåˆ†ç‹¬ç«‹å’Œéç‹¬ç«‹å­¦ç”Ÿçš„æ“ä½œæƒé™
- æäº¤çŠ¶æ€è·Ÿè¸ªå’Œè®°å½•æŸ¥çœ‹

### 5. é˜…å·ç®¡ç†æœåŠ¡ (localhost:3005)

**è´Ÿè´£é˜…å·ä»»åŠ¡åˆ†é…å’Œè¿‡ç¨‹ç®¡ç†ï¼Œå…±18ä¸ªAPIç«¯ç‚¹**

```
# ç®¡ç†å‘˜é˜…å·ç®¡ç†
/api/admin/graders                     # é˜…å·å‘˜ç®¡ç†
/api/admin/grading/assign              # é˜…å·ä»»åŠ¡åˆ†é…
/api/admin/grading/progress/{examId}   # é˜…å·è¿›åº¦ç›‘æ§
/api/admin/grading/tasks               # é˜…å·ä»»åŠ¡ç®¡ç†

# é¢˜ç›®åˆ†æ•°ç®¡ç†
/api/admin/exams/{examId}/questions/scores        # é¢˜ç›®åˆ†æ•°æŸ¥çœ‹
/api/admin/exams/{examId}/questions/scores/import # é¢˜ç›®åˆ†æ•°æ‰¹é‡å¯¼å…¥
/api/admin/exams/{examId}/questions/{questionNumber}/score # å•é¢˜åˆ†æ•°è®¾ç½®

# é˜…å·å‘˜ä»»åŠ¡ç®¡ç†
/api/grader/tasks                      # é˜…å·ä»»åŠ¡åˆ—è¡¨
/api/grader/tasks/{taskId}             # é˜…å·ä»»åŠ¡è¯¦æƒ…
/api/grader/tasks/{taskId}/start       # å¼€å§‹é˜…å·ä»»åŠ¡
/api/grader/tasks/{taskId}/submit      # æäº¤é˜…å·ç»“æœ
/api/grader/tasks/{taskId}/abandon     # æ”¾å¼ƒé˜…å·ä»»åŠ¡
/api/grader/tasks/{taskId}/save-progress # ä¿å­˜é˜…å·è¿›åº¦

# é˜…å·è¿‡ç¨‹ç®¡ç†
/api/grader/tasks/{taskId}/questions/{questionNumber}/score   # é¢˜ç›®è¯„åˆ†
/api/grader/tasks/{taskId}/questions/{questionNumber}/history # è¯„åˆ†å†å²
/api/grader/exams/{examId}/questions/scores # è€ƒè¯•é¢˜ç›®åˆ†æ•°æŸ¥çœ‹

# æ•™ç»ƒéç‹¬ç«‹å­¦ç”Ÿç®¡ç†
/api/coach/students                    # æ•™ç»ƒä»£ç®¡çš„éç‹¬ç«‹å­¦ç”Ÿåˆ—è¡¨
/api/coach/students/{studentId}        # æ•™ç»ƒä»£ç®¡çš„éç‹¬ç«‹å­¦ç”Ÿè¯¦æƒ…
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- é˜…å·ä»»åŠ¡è‡ªåŠ¨åˆ†é…
- é˜…å·è¿›åº¦å®æ—¶ç›‘æ§
- é˜…å·å‘˜å·¥ä½œæµç®¡ç†
- é¢˜ç›®è¯„åˆ†æ ‡å‡†ç®¡ç†
- **æ•™ç»ƒéç‹¬ç«‹å­¦ç”Ÿç®¡ç†**ï¼šä»…ç®¡ç†æ•™ç»ƒæ·»åŠ çš„éç‹¬ç«‹å­¦ç”Ÿè´¦å·

### 6. æˆç»©ç»Ÿè®¡æœåŠ¡ (localhost:3006)

**è´Ÿè´£æˆç»©æ•°æ®åˆ†æå’Œæ’åè®¡ç®—ï¼Œå…±12ä¸ªAPIç«¯ç‚¹**

```
# å­¦ç”Ÿæˆç»©æŸ¥çœ‹å’Œä»ªè¡¨æ¿ï¼ˆç»Ÿä¸€è§„èŒƒ v1.2.0ï¼‰
/api/student/exams/{examId}/score      # å­¦ç”Ÿè€ƒè¯•æˆç»©
/api/student/exams/{examId}/ranking    # å­¦ç”Ÿè€ƒè¯•æ’å
/api/student/scores                    # å­¦ç”Ÿå†å²æˆç»©
/api/student/dashboard/stats           # å­¦ç”Ÿä»ªè¡¨æ¿ç»Ÿè®¡æ•°æ®

# æ•™ç»ƒæˆç»©ç®¡ç†å’Œä»ªè¡¨æ¿ï¼ˆç»Ÿä¸€è§„èŒƒ v1.2.0ï¼‰
/api/coach/grades/overview             # æ•™ç»ƒæˆç»©æ¦‚è§ˆ
/api/coach/grades/details              # æ•™ç»ƒæˆç»©è¯¦æƒ…
/api/coach/students/scores             # æ•™ç»ƒå­¦ç”Ÿæˆç»©
/api/coach/students/{studentId}/exams/{examId}/score # æ•™ç»ƒæŸ¥çœ‹å­¦ç”Ÿæˆç»©
/api/coach/dashboard/stats             # æ•™ç»ƒä»ªè¡¨æ¿ç»Ÿè®¡æ•°æ®

# é˜…å·å‘˜ç»Ÿè®¡å’Œä»ªè¡¨æ¿ï¼ˆæ–°å¢ v1.2.0ï¼‰
/api/grader/statistics                 # é˜…å·å‘˜ç»Ÿè®¡æ•°æ®
/api/grader/dashboard/stats            # é˜…å·å‘˜ä»ªè¡¨æ¿ç»Ÿè®¡æ•°æ®
/api/grader/history                    # é˜…å·å‘˜å†å²è®°å½•

# ç®¡ç†å‘˜ä»ªè¡¨æ¿ï¼ˆç»Ÿä¸€è§„èŒƒ v1.2.0ï¼‰
/api/admin/dashboard/stats             # ç®¡ç†å‘˜ä»ªè¡¨æ¿ç»Ÿè®¡æ•°æ®
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- æˆç»©è®¡ç®—ä¸ç»Ÿè®¡åˆ†æ
- æ’åç”Ÿæˆä¸æ›´æ–°
- å¤šç»´åº¦æ•°æ®åˆ†æ
- **ç»Ÿä¸€ä»ªè¡¨ç›˜æ•°æ®èšåˆ**ï¼šæ‰€æœ‰è§’è‰²ä½¿ç”¨ `/dashboard/stats` è·¯å¾„

### 7. åŒºåŸŸç®¡ç†æœåŠ¡ (localhost:3007)

**è´Ÿè´£çœä»½å­¦æ ¡ç­‰åœ°ç†ä¿¡æ¯ç®¡ç†ï¼Œå…±17ä¸ªAPIç«¯ç‚¹**

```
# ç®¡ç†å‘˜åŒºåŸŸç®¡ç†
/api/admin/regions                        # åŒºåŸŸä¿¡æ¯ç®¡ç† (GET)
/api/admin/regions/provinces              # çœä»½ç®¡ç† (GET, POST)
/api/admin/regions/provinces/{provinceId} # çœä»½è¯¦æƒ…æ“ä½œ (DELETE)
/api/admin/regions/schools                # å­¦æ ¡ç®¡ç† (GET, POST) 
/api/admin/regions/schools/{schoolId}     # å­¦æ ¡è¯¦æƒ…æ“ä½œ (PUT, DELETE)

# åŒºåŸŸå˜æ›´ç”³è¯·ç®¡ç†
/api/admin/regions/change-requests        # åŒºåŸŸå˜æ›´ç”³è¯·åˆ—è¡¨ (GET)
/api/admin/regions/change-requests/{requestId} # åŒºåŸŸå˜æ›´ç”³è¯·å¤„ç† (POST)

# å­¦ç”ŸåŒºåŸŸå˜æ›´åŠŸèƒ½
/api/student/region-change                # å­¦ç”Ÿç”³è¯·åŒºåŸŸå˜æ›´ (POST)
/api/student/region-change/status         # å­¦ç”ŸæŸ¥çœ‹ç”³è¯·çŠ¶æ€ (GET)

# æ•™ç»ƒåŒºåŸŸå˜æ›´åŠŸèƒ½ï¼ˆç»Ÿä¸€è§„èŒƒ v1.2.0ï¼‰
/api/coach/region-change                  # æ•™ç»ƒç”³è¯·åŒºåŸŸå˜æ›´ (POST)
/api/coach/region-change/status           # æ•™ç»ƒæŸ¥çœ‹ç”³è¯·çŠ¶æ€ (GET)

# é€šç”¨åŒºåŸŸæ•°æ®æŸ¥è¯¢
/api/regions/provinces-schools            # çœä»½å­¦æ ¡ä¿¡æ¯æŸ¥è¯¢ï¼ˆå‰ç«¯ç»„ä»¶ä½¿ç”¨ï¼‰(GET)
/api/regions/provinces                    # çœä»½åˆ—è¡¨æŸ¥è¯¢ (GET)
/api/regions/schools                      # å­¦æ ¡åˆ—è¡¨æŸ¥è¯¢ï¼ˆæŒ‰çœä»½ç­›é€‰ï¼‰(GET)
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- çœä»½å­¦æ ¡ä¿¡æ¯ç»´æŠ¤
- åŒºåŸŸå±‚çº§å…³ç³»ç®¡ç†
- åœ°ç†ä¿¡æ¯æ•°æ®ç®¡ç†
- **åŒºåŸŸå˜æ›´ç”³è¯·å¤„ç†**ï¼šç®¡ç†å‘˜ä¾§å®¡æ ¸åŠŸèƒ½
- **ç»Ÿä¸€åœ°åŒºå˜æ›´API**ï¼šå­¦ç”Ÿå’Œæ•™ç»ƒä½¿ç”¨ç›¸åŒçš„è·¯å¾„æ ¼å¼

### 8. æ–‡ä»¶å­˜å‚¨æœåŠ¡ (localhost:3008)

**è´Ÿè´£æ–‡ä»¶ä¸Šä¼ å­˜å‚¨å’Œè®¿é—®ç®¡ç†ï¼Œå…±8ä¸ªAPIç«¯ç‚¹**

```
# å­¦ç”Ÿæ–‡ä»¶ç®¡ç†
/api/student/files/download/{fileId}   # å­¦ç”Ÿæ–‡ä»¶ä¸‹è½½

# å›¾ç‰‡æ–‡ä»¶ç®¡ç†
/api/grader/images                     # é˜…å·å›¾ç‰‡æŸ¥çœ‹

# è€ƒè¯•æ–‡ä»¶ç®¡ç†
/api/coach/exams/{examId}/ranking      # æ•™ç»ƒè€ƒè¯•æ’åå¯¼å‡º
/api/coach/exams/{examId}/scores/export # æ•™ç»ƒæˆç»©å¯¼å‡º
/api/coach/exams/{examId}/scores/statistics # æ•™ç»ƒæˆç»©ç»Ÿè®¡

# é€šç”¨æ–‡ä»¶ä¸Šä¼ ï¼ˆç»Ÿä¸€è§„èŒƒ v1.2.0ï¼‰
/api/upload/avatar                     # ç»Ÿä¸€å¤´åƒä¸Šä¼ æ¥å£
/api/upload/*                          # å…¶ä»–æ–‡ä»¶ä¸Šä¼ 
/api/files/*                           # æ–‡ä»¶ç®¡ç†
/api/files/{fileId}                    # æ–‡ä»¶åˆ é™¤ (DELETE)
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- **ç»Ÿä¸€æ–‡ä»¶ä¸Šä¼ ç®¡ç†**ï¼šæ‰€æœ‰è§’è‰²ä½¿ç”¨ç›¸åŒçš„å¤´åƒä¸Šä¼ æ¥å£
- æ–‡ä»¶å­˜å‚¨ä¸è®¿é—®æ§åˆ¶
- æ–‡ä»¶æƒé™æ§åˆ¶
- **ç»Ÿä¸€æ–‡ä»¶åˆ é™¤æ¥å£**ï¼šé€šè¿‡DELETEæ–¹æ³•åˆ é™¤æ–‡ä»¶
- æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å¤´åƒã€ç­”é¢˜å¡ç­‰å„ç±»æ–‡ä»¶
- **å­¦ç”Ÿæ–‡ä»¶è®¿é—®**ï¼šç‹¬ç«‹å­¦ç”Ÿè´¦å·çš„æ–‡ä»¶ä¸‹è½½æƒé™

### 9. ç³»ç»Ÿé…ç½®æœåŠ¡ (localhost:3009)

**è´Ÿè´£ç³»ç»Ÿå…¨å±€é…ç½®ç®¡ç†ï¼Œå…±4ä¸ªAPIç«¯ç‚¹**

```
# ç³»ç»Ÿç®¡ç†å‘˜ç®¡ç†
/api/admin/system/admins               # ç³»ç»Ÿç®¡ç†å‘˜åˆ—è¡¨
/api/admin/system/admins/{adminId}     # ç³»ç»Ÿç®¡ç†å‘˜æ“ä½œ
/api/admin/system/admins/{adminId}/password # ç®¡ç†å‘˜å¯†ç ä¿®æ”¹

# ç³»ç»Ÿé…ç½®ï¼ˆç®€åŒ–ç‰ˆ v1.3.0ï¼‰
/api/admin/system/settings             # ç³»ç»Ÿå…¨å±€é…ç½®
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- **ç®€åŒ–çš„ç³»ç»Ÿé…ç½®ç®¡ç†**ï¼šä»…ä¿ç•™ç»´æŠ¤æ¨¡å¼å’Œç³»ç»Ÿå…¬å‘Š
- ç³»ç»Ÿç®¡ç†å‘˜è´¦æˆ·ç®¡ç†
- **ç»´æŠ¤æ¨¡å¼æ§åˆ¶**ï¼šå¼€å¯æ—¶æ˜¾ç¤ºç»´æŠ¤é¡µé¢å’Œå…¬å‘Šè½®æ’­
- **ç³»ç»Ÿå…¬å‘Šç®¡ç†**ï¼šæ”¯æŒå¤šæ¡å…¬å‘Šè½®æ’­æ˜¾ç¤º
- **ç³»ç»Ÿä¿¡æ¯å±•ç¤º**ï¼šç¡¬ç¼–ç çš„ç³»ç»Ÿç‰ˆæœ¬å’ŒæŠ€æœ¯ä¿¡æ¯

## è·¯ç”±åŒ¹é…ç®—æ³•

### åŒ¹é…ä¼˜å…ˆçº§

1. **ç²¾ç¡®åŒ¹é…** (ä¼˜å…ˆçº§ 4)ï¼šå®Œå…¨åŒ¹é…è·¯å¾„
2. **è·¯å¾„å‚æ•°åŒ¹é…** (ä¼˜å…ˆçº§ 3)ï¼šæ”¯æŒ `{userId}` ç­‰å‚æ•°
3. **å‰ç¼€åŒ¹é…** (ä¼˜å…ˆçº§ 2)ï¼šè·¯å¾„å‰ç¼€åŒ¹é…
4. **é€šé…ç¬¦åŒ¹é…** (ä¼˜å…ˆçº§ 1)ï¼šä½¿ç”¨ `*` çš„æ¨¡å¼åŒ¹é…

### æ™ºèƒ½æ¨æ–­ç­–ç•¥

å½“ç²¾ç¡®åŒ¹é…å¤±è´¥æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®è·¯å¾„ç‰¹å¾è¿›è¡Œæ™ºèƒ½æ¨æ–­ï¼š

1. **æŒ‰åŠŸèƒ½å…³é”®è¯**: å¦‚ `auth`, `exam`, `score`, `upload` ç­‰
2. **æŒ‰è§’è‰²å‰ç¼€**: å¦‚ `/api/student/`, `/api/coach/`, `/api/admin/`, `/api/grader/`
3. **æŒ‰å­¦ç”Ÿè´¦å·ç±»å‹**:
   - `/api/student/*` â†’ ç‹¬ç«‹å­¦ç”Ÿè´¦å·æ“ä½œ
   - `/api/coach/students/*` â†’ éç‹¬ç«‹å­¦ç”Ÿè´¦å·ç®¡ç†
   - `/api/coach/exams/*/submissions` â†’ ä»£ç†æäº¤ç®¡ç†
4. **æŒ‰ä¸šåŠ¡é€»è¾‘**: ä¸åŒè§’è‰²çš„è¯·æ±‚æœ‰ä¸åŒçš„æœåŠ¡ä¼˜å…ˆçº§

#### æ•™ç»ƒè¯·æ±‚è·¯ç”±ä¼˜å…ˆçº§
1. **ä»£ç†æäº¤ç®¡ç†** â†’ ç­”é¢˜æäº¤æœåŠ¡
2. **è€ƒè¯•åŸºç¡€ç®¡ç†** â†’ è€ƒè¯•ç®¡ç†æœåŠ¡  
3. **æˆç»©ç»Ÿè®¡åˆ†æ** â†’ æˆç»©ç»Ÿè®¡æœåŠ¡
4. **éç‹¬ç«‹å­¦ç”Ÿç®¡ç†** â†’ é˜…å·ç®¡ç†æœåŠ¡
5. **ä¸ªäººèµ„æ–™ç®¡ç†** â†’ ç”¨æˆ·ç®¡ç†æœåŠ¡

#### ç‹¬ç«‹å­¦ç”Ÿè¯·æ±‚è·¯ç”±ä¼˜å…ˆçº§
1. **è‡ªä¸»æäº¤ç­”å·** â†’ ç­”é¢˜æäº¤æœåŠ¡
2. **è€ƒè¯•ä¿¡æ¯æŸ¥çœ‹** â†’ è€ƒè¯•ç®¡ç†æœåŠ¡
3. **æˆç»©æŸ¥çœ‹ç»Ÿè®¡** â†’ æˆç»©ç»Ÿè®¡æœåŠ¡
4. **ä¸ªäººèµ„æ–™ç®¡ç†** â†’ ç”¨æˆ·ç®¡ç†æœåŠ¡

## æ•…éšœè½¬ç§»æœºåˆ¶

### æœåŠ¡ä¾èµ–å…³ç³»

```
auth â†” userManagement
submission â†’ examManagement â†’ userManagement
submission â†’ fileStorage â†’ systemConfig
grading â†” scoreStatistics
grading â†’ userManagement
regionManagement â†’ userManagement
systemConfig â†’ auth
```

### å¥åº·æ£€æŸ¥

- **æ£€æŸ¥é—´éš”**: 30ç§’
- **æ£€æŸ¥è·¯å¾„**: `/health`
- **è¶…æ—¶æ—¶é—´**: 5ç§’
- **æ•…éšœåˆ¤å®š**: HTTP çŠ¶æ€ç é 200 æˆ–è¯·æ±‚è¶…æ—¶

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬è·¯ç”±

```typescript
// è‡ªåŠ¨è·¯ç”±åˆ°è®¤è¯æœåŠ¡ (localhost:3001)
const loginUrl = microserviceRouter.buildApiUrl('/api/auth/login');

// è‡ªåŠ¨è·¯ç”±åˆ°è€ƒè¯•ç®¡ç†æœåŠ¡ (localhost:3003)
const examUrl = microserviceRouter.buildApiUrl('/api/student/exams/123');
```

### å¸¦å‚æ•°è·¯ç”±

```typescript
// æ„å»ºå¸¦è·¯å¾„å‚æ•°çš„URL
const examSubmitUrl = microserviceRouter.buildApiUrlWithParams(
  '/api/student/exams/{examId}/submit',
  { examId: '123' },
  { timestamp: Date.now() }
);
```

### æœåŠ¡çŠ¶æ€ç›‘æ§

```typescript
// è·å–æ‰€æœ‰æœåŠ¡çŠ¶æ€
const servicesStatus = microserviceRouter.getServicesStatus();

// è·å–ç‰¹å®šæœåŠ¡ä¿¡æ¯
const serviceInfo = microserviceRouter.getMatchingServiceInfo('/api/student/exams');
```

## ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒ

```bash
# å¯ç”¨å¾®æœåŠ¡æ¨¡å¼
REACT_APP_MICROSERVICE_MODE=true

# å„æœåŠ¡URLé…ç½®
REACT_APP_AUTH_SERVICE_URL=http://localhost:3001
REACT_APP_USER_MANAGEMENT_SERVICE_URL=http://localhost:3002
# ... å…¶ä»–æœåŠ¡é…ç½®
```

### ç”Ÿäº§ç¯å¢ƒ

```bash
# ç”Ÿäº§ç¯å¢ƒæœåŠ¡åœ°å€
REACT_APP_AUTH_SERVICE_URL=https://auth.galphos.com
REACT_APP_USER_MANAGEMENT_SERVICE_URL=https://user-mgmt.galphos.com
# ... å…¶ä»–æœåŠ¡é…ç½®
```

## ç›‘æ§å’Œè°ƒè¯•

### æ—¥å¿—è®°å½•

ç³»ç»Ÿä¼šè®°å½•ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š
- è·¯ç”±åŒ¹é…ç»“æœ
- æœåŠ¡å¥åº·çŠ¶æ€å˜åŒ–
- æ•…éšœè½¬ç§»äº‹ä»¶
- æœåŠ¡æ¨æ–­è¿‡ç¨‹

### è°ƒè¯•å·¥å…·

```typescript
// éªŒè¯è·¯å¾„å‚æ•°
const validation = microserviceRouter.validatePathParams(
  '/api/users/{userId}/exams/{examId}',
  { userId: '123', examId: '456' }
);

// æŸ¥çœ‹æœåŠ¡é…ç½®
const allConfigs = microserviceRouter.getAllServiceConfigs();
```

## æ³¨æ„äº‹é¡¹

1. **æœåŠ¡å¯åŠ¨é¡ºåº**: å»ºè®®æŒ‰ä¾èµ–å…³ç³»å¯åŠ¨æœåŠ¡
2. **ç½‘ç»œå»¶è¿Ÿ**: è·¨æœåŠ¡è°ƒç”¨å¯èƒ½å¢åŠ å“åº”æ—¶é—´
3. **æ•°æ®ä¸€è‡´æ€§**: æ³¨æ„åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„æ•°æ®ä¸€è‡´æ€§
4. **é”™è¯¯å¤„ç†**: åšå¥½æœåŠ¡ä¸å¯ç”¨æ—¶çš„é™çº§å¤„ç†
5. **ç›‘æ§å‘Šè­¦**: è®¾ç½®æœåŠ¡å¥åº·ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶
6. **ğŸ” æƒé™æ§åˆ¶é‡è¦æ€§**:
   - **ä¸¥æ ¼åŒºåˆ†**ç‹¬ç«‹å­¦ç”Ÿå’Œéç‹¬ç«‹å­¦ç”Ÿçš„æ“ä½œæƒé™
   - **æ•™ç»ƒæƒé™è¾¹ç•Œ**ï¼šåªèƒ½ç®¡ç†è‡ªå·±æ·»åŠ çš„éç‹¬ç«‹å­¦ç”Ÿ
   - **APIè°ƒç”¨éªŒè¯**ï¼šåç«¯éœ€éªŒè¯æ•™ç»ƒä¸å­¦ç”Ÿçš„å…³è”å…³ç³»
   - **æ•°æ®éš”ç¦»**ï¼šç¡®ä¿æ•™ç»ƒæ— æ³•è®¿é—®å…¶ä»–æ•™ç»ƒçš„å­¦ç”Ÿæ•°æ®

## ç‰ˆæœ¬ä¿¡æ¯

- **æ–‡æ¡£ç‰ˆæœ¬**: 1.2.0
- **æ¶æ„ç‰ˆæœ¬**: åŸºäº docs/README.md å¾®æœåŠ¡è®¾è®¡
- **APIè¦†ç›–**: å®Œæ•´æ˜ å°„æ‰€æœ‰100ä¸ªå‰ç«¯APIæ¥å£
- **æ›´æ–°æ—¥æœŸ**: 2025å¹´6æœˆ30æ—¥
- **ä¸»è¦æ›´æ–°**: APIè§„èŒƒç»Ÿä¸€åŒ– - ä¸ªäººèµ„æ–™ã€å¯†ç ä¿®æ”¹ã€ä»ªè¡¨æ¿ã€åœ°åŒºå˜æ›´æ¥å£ç»Ÿä¸€

## æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£æ›¿ä»£äº†åŸæœ‰çš„ `API_COVERAGE_REPORT.md` å’Œ `API_DOCS_UPDATE_REPORT.md`ï¼Œæˆä¸ºå¾®æœåŠ¡æ¶æ„ä¸‹APIæ¥å£æ˜ å°„çš„å”¯ä¸€æƒå¨æ–‡æ¡£ã€‚

### v1.2.0 æ›´æ–°å†…å®¹ï¼š

1. **ä¸ªäººèµ„æ–™ç®¡ç†APIç»Ÿä¸€åŒ–**ï¼š
   - æ‰€æœ‰è§’è‰²ä½¿ç”¨ `GET/PUT /api/{role}/profile`
   - æ”¯æŒç»Ÿä¸€çš„åŸºç¡€å­—æ®µï¼šname, phone, email, avatar

2. **å¯†ç ä¿®æ”¹APIç»Ÿä¸€åŒ–**ï¼š
   - æ‰€æœ‰è§’è‰²ä½¿ç”¨ `PUT /api/{role}/password`
   - ç»Ÿä¸€å‚æ•°ï¼šoldPassword + newPassword

3. **ä»ªè¡¨æ¿APIç»Ÿä¸€åŒ–**ï¼š
   - æ‰€æœ‰è§’è‰²ä½¿ç”¨ `GET /api/{role}/dashboard/stats`
   - ç»Ÿä¸€æ–¹æ³•åï¼šgetDashboardStats()

4. **åœ°åŒºå˜æ›´APIç»Ÿä¸€åŒ–**ï¼š
   - å­¦ç”Ÿå’Œæ•™ç»ƒä½¿ç”¨ `/api/{role}/region-change*`
   - ç»Ÿä¸€æ–¹æ³•ï¼šrequestRegionChange() å’Œ getRegionChangeStatus()

5. **å¤´åƒä¸Šä¼ APIç»Ÿä¸€åŒ–**ï¼š
   - æ‰€æœ‰è§’è‰²ä½¿ç”¨ `POST /api/upload/avatar`

### æ¯ä¸ªå¾®æœåŠ¡éƒ¨åˆ†è¯¦ç»†åˆ—å‡ºäº†ï¼š

1. **å®é™…APIç«¯ç‚¹**: åŸºäºå‰ç«¯ä»£ç å®é™…ä½¿ç”¨çš„APIè·¯å¾„
2. **åŠŸèƒ½åˆ†ç»„**: æŒ‰ä¸šåŠ¡é€»è¾‘å¯¹APIè¿›è¡Œåˆ†ç±»è¯´æ˜
3. **è·¯ç”±ç­–ç•¥**: è¯¦ç»†çš„è·¯å¾„åŒ¹é…å’ŒæœåŠ¡åˆ†å‘è§„åˆ™
4. **ä¾èµ–å…³ç³»**: æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»å’Œæ•…éšœè½¬ç§»æœºåˆ¶

æ‰€æœ‰APIæ¥å£å‡å·²éªŒè¯ï¼Œç¡®ä¿ï¼š
- âœ… è·¯å¾„åˆ†é…æ— é‡å ã€æ— é—æ¼
- âœ… å¾®æœåŠ¡æ˜ å°„å‡†ç¡®æ— è¯¯
- âœ… å‰ç«¯è·¯ç”±é…ç½®æ­£ç¡®
- âœ… é”™è¯¯å¤„ç†100%è¦†ç›–
- âœ… APIè§„èŒƒç»Ÿä¸€åŒ–å®Œæˆ
